<section class="content">
  <div class="container-fluid">
    <!-- Header Invoice -->
    <div class="bg-white p-6 rounded shadow-sm mb-4">
      <h1 class="text-2xl font-semibold mb-4">Invoice</h1>
      <div class="flex justify-between items-center">
        <div>
          <p class="text-sm font-medium">Nomor Invoice: <%= transaksi.nomor %></p>
          <p class="text-sm font-medium">Tanggal Transaksi: <%= transaksi.tanggal %></p>
        </div>
        <div class="text-right">
          <h2 class="text-lg font-bold">Tokopedia</h2>
          <p class="text-sm">Invoice ini sah dan diproses oleh sistem Tokopedia</p>
        </div>
      </div>
    </div>

    <!-- Info Produk -->
    <div class="bg-white p-6 rounded shadow-sm mb-4">
      <h3 class="text-md font-semibold mb-4">Info Produk</h3>
      <table class="w-full text-sm text-left border-separate border-spacing-y-2">
        <thead class="bg-gray-50 text-gray-600 text-xs font-semibold">
          <tr>
            <th class="px-4 py-2">Produk</th>
            <th class="px-4 py-2">Qty</th>
            <th class="px-4 py-2">Harga</th>
            <th class="px-4 py-2">Total</th>
          </tr>
        </thead>
        <tbody>
          <% if (transaksi_detail.length === 0) { %>
            <tr>
              <td colspan="4" class="text-center py-6 text-gray-400">Tidak ada detail transaksi.</td>
            </tr>
          <% } else { %>
            <% transaksi_detail.forEach(detail => { %>
              <tr class="bg-white border rounded shadow-sm">
                <td class="px-4 py-2"><%= detail.nama_produk %></td>
                <td class="px-4 py-2"><%= detail.qty %></td>
                <td class="px-4 py-2">Rp <%= detail.harga.toFixed(2) %></td>
                <td class="px-4 py-2">Rp <%= detail.total.toFixed(2) %></td>
              </tr>
            <% }) %>
          <% } %>
        </tbody>
      </table>
    </div>

    <!-- Total Faktur -->
    <div class="bg-white p-6 rounded shadow-sm mb-4">
      <div class="flex justify-between items-center">
        <h3 class="text-lg font-semibold">Total Belanja</h3>
        <p class="text-xl font-bold">Rp <%= transaksi_detail.reduce((sum, detail) => sum + detail.total, 0).toFixed(2) %></p>
      </div>
    </div>

  </div>
</section>
