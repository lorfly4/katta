<div class="container mt-4">
  <!-- Header -->
  <div class="row mb-2">
    <div class="col-sm-6">
      <h1 class="m-0">Detail Interaksi - <%= user.name %></h1>
    </div>
    <div class="col-sm-6">
      <ol class="breadcrumb float-sm-right" style="background-color: #f4f6f9">
        <li class="breadcrumb-item"><a href="#">Halaman Utama</a></li>
        <li class="breadcrumb-item"><a href="/admin-sales/interactions">Tabel PIC Sales</a></li>
        <li class="breadcrumb-item active">Detail Interaksi</li>
      </ol>
    </div>
  </div>

  <form action="/admin-sales/interactions/detail/<%= sales.id %>" method="GET" class="d-flex justify-content-between mb-2">
  <input type="text" name="search" class="form-control form-control-sm" placeholder="Cari interaksi..." value="<%= search || '' %>">
  
  <select name="sortBy" class="form-control form-control-sm">
    <option value="interactions.created_at" <%= sortBy === 'interactions.created_at' ? 'selected' : '' %>>Tanggal Dibuat</option>
    <option value="clients.name" <%= sortBy === 'clients.name' ? 'selected' : '' %>>Nama Klien</option>
    <option value="interactions.type" <%= sortBy === 'interactions.type' ? 'selected' : '' %>>Tipe Interaksi</option>
  </select>
  
  <select name="order" class="form-control form-control-sm">
    <option value="asc" <%= order === 'asc' ? 'selected' : '' %>>Ascending</option>
    <option value="desc" <%= order === 'desc' ? 'selected' : '' %>>Descending</option>
  </select>
  
  <button type="submit" class="btn btn-sm btn-primary ml-2">Cari</button>
</form>

  <!-- Tabel Interaksi -->
  <div class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead class="table-dark">
        <tr class="text-center align-middle">
          <th style="width: 3em">No</th>
          <th>Nama Klien</th>
          <th>Tipe Interaksi</th>
          <th>Catatan</th>
        </tr>
      </thead>
      <tbody>
        <% if (interactions && interactions.length > 0) { %>
          <% interactions.forEach(function(interaction, idx) { %>
            <tr>
              <td class="text-center"><%= idx + 1 %></td>
              <td><%= interaction.client_name %></td>
              <td><%= interaction.type %></td>
              <td><%= interaction.notes %></td>
            </tr>
          <% }); %>
        <% } else { %>
          <tr>
            <td class="text-center" colspan="4">Tidak ada interaksi yang ditemukan</td>
          </tr>
        <% } %>
      </tbody>
    </table>
  </div>
</div>

